<script type="module">

  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.2/firebase-app.js";
  import { getFirestore, collection, doc, getDoc, getDocs, query, where  } from 'https://www.gstatic.com/firebasejs/9.6.2/firebase-firestore.js'
  const app = initializeApp(firebaseConfig);
  const db = getFirestore();

  async function get_search_options() {
    const q = query(collection(db, "website-by-movie-screenings"))
    var querySnapshot = await getDocs(q);
    var data = [];
    querySnapshot.forEach((doc) => {
      data.push(doc.data());
    });
    var string = ""
    data.forEach(f => {
      string = string.concat("<a href='/details.html?id=" + f.id + "'>" + f.title + ", "+ f.directors + " (" + f.year + ")" + "</a>")
    })
    document.getElementById("search_options").innerHTML = string;
  }
  get_search_options()

</script>

<center>
  <!-- Pour nos recommandations cinéma toutes les semaines, -->
  <a href="/subscribe.html">Abonnez-vous à notre newsletter hebdomadaire&nbsp;!</a>
</center>

<brsmall>

<center>
<div class="dropdown">
  <input type="text" id="moviesearch" class="moviesearch" onkeyup="moviesearch()" placeholder="Recherchez un film..." >
  <div id="myDropdown" class="dropdown-content">
    <span id="search_options"></span>
  </div>
</div>
</center>
<br>

<div id="logo-wrap" class="center">
  <a href="/">
    <img src="img/logo.png" alt="Le Rétro Projecteur – Cinéma de patrimoine à Paris" class="center" style="display: block">
  </a>
</div>

<brsmall>

<div id="outer">
  <div class="menu-item"><a href="/">Calendrier</a> • </div>
  <div class="menu-item"><a href="/newsletter.html">Cette Semaine</a> • </div>
  <div class="menu-item"><a href="/coeur.html">Coups de Cœur</a></div>
</div>

<hr>
